<!--
    Expects as context:
    result - the exercise or workout being viewed
-->
{% extends 'wrkout/base.html' %}
{% load staticfiles %}

{% block title_block %}
    {{ result.Name }}
{% endblock %}

{% block js_block %}
    <script src="{% static 'wrkout/js/view_exercise_or_workout.js' %}"></script>
{% endblock %}

{% block content_block %}
    {% include 'wrkout/delete_dialogue.html' %}

    <h1>{{ result.Name }}</h1>
    <div id="info-block">
        <div class="details-difficulty">
            Difficulty: 
            {% for i in '12345'|make_list %}
                {% if forloop.counter <= result.Difficulty %}
                    <img class="star" src="{% static 'wrkout/images/star_filled.png' %}"/>
                {% else %}
                    <img class="star" src="{% static 'wrkout/images/star_unfilled.png' %}"/>
                {% endif %}
            {% endfor %}
        </div>

        <div class="details-creator">
            Created By: 
            <a href="{% url 'wrkout:profile' result.CreatorID.Slug %}">{{ result.CreatorID.UserAccount.username }}</a>
        </div>

        <div class="details-date">
            Created On: {{ result.Date }}
        </div>

        <div class="details-likes">
        {% if "workouts" in request.path %}
        
            {% if result in logged_in_profile.LikedWorkouts.all %}
            
                <a href="{% url 'wrkout:unlike_workout' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_up_filled.png' %}">
                </a>
                
                <a href="{% url 'wrkout:dislike_workout' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_down_unfilled.png' %}">
                </a>
            {% elif result in logged_in_profile.DislikedWorkouts.all %}
            
                <a href="{% url 'wrkout:like_workout' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_up_unfilled.png' %}">
                </a>
                
                <a href="{% url 'wrkout:undislike_workout' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_down_filled.png' %}">
                </a>
            
                    
            {% else %}
                <a href="{% url 'wrkout:like_workout' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_up_unfilled.png' %}">
                </a>
                
                <a href="{% url 'wrkout:dislike_workout' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_down_unfilled.png' %}">
                </a>
            {% endif %}
            
        {% else %}
        
            {% if result in logged_in_profile.LikedExercises.all %}
            
                <a href="{% url 'wrkout:unlike_exercise' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_up_filled.png' %}">
                </a>
                
                <a href="{% url 'wrkout:dislike_exercise' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_down_unfilled.png' %}">
                </a>
            {% elif result in logged_in_profile.DislikedExercises.all %}
            
                <a href="{% url 'wrkout:like_exercise' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_up_unfilled.png' %}">
                </a>
                
                <a href="{% url 'wrkout:undislike_exercise' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_down_filled.png' %}">
                </a>
            
                    
            {% else %}
                <a href="{% url 'wrkout:like_exercise' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_up_unfilled.png' %}">
                </a>
                
                <a href="{% url 'wrkout:dislike_exercise' result.Slug %}">
                    <img src="{% static 'wrkout/images/thumbs_down_unfilled.png' %}">
                </a>
       
            {% endif %}
            
        {% endif %}
                
    
            {% if result.Likes >= 0 %}
                <span class="positive-likes">{{result.Likes}}</span>
            {% else %}
                <span class="negative-likes">{{result.Likes}}</span>
            {% endif %}
      
            
        </div>
    </div>

    {% block specifics_block %}
        <hr>
        Please override this
    {% endblock %}

{% endblock %}